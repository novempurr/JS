<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Quản Lý Học Viên</title>
</head>
<style>
    body {
    text-align: center;
    margin-top: 50px;
    }
</style>
<body>
    <div class="container">
        <h1>Quản Lý Học Viên</h1>
    </div>
    <br>
    <div class="container">
        <div class="row">
        <p class="col-3">Mã Học Viên:</p>
        <input id="id" type="number" class="col-6">
        </div>
    <br>
    <div class="row">
        <p class="col-3">Họ Tên:</p>
        <input id="name" type="text" class="col-6">
        </div>
    <br>
        <div class="row">
        <p class="col-3">Tuổi:</p>
        <input id="age" type="number" class="col-6">
        </div>
    <br>
        <div class="row">
        <p class="col-3">Số điện thoại:</p>
        <input id="tel" type="number" class="col-6">
        </div>
    <br>

    <div>
        <button onclick="add()" class="btn btn-secondary">Submit</button>
    </div>
    <br>
    <br>
    <table style="width:100%" class="table table-bordered" id="table">
        <thead>
            <tr>
                <th>Mã Học Viên</th>
                <th>Họ Tên</th>
                <th>Tuổi</th>
                <th>Số điện thoại</th>
                <th>Thao tác</th>
            </tr>
        </thead>
    </table>
</body>


<script>

let data=[];

function add() {
        let item_id = document.getElementById("id").value;
        let item_name = document.getElementById("name").value;
        let item_age = document.getElementById("age").value;    
        let item_tel = document.getElementById("tel").value;   

        var item = {
            Id: item_id,
            Name: item_name,
            Age: item_age,
            Tel: item_tel,
        }

        let index = data.findIndex((c)=>c.Id==item.Id)

        if(index>=0){
            data.splice(index,1,item)
        }else {
            data.push(item)
        }

        show();
        clear();

}

     function show() {
        table = `<tr>
                <th>Mã Học Viên</th>
                <th>Họ Tên</th>
                <th>Tuổi</th>
                <th>Số điện thoại</th>
                <th>Thao tác</th>
            </tr>`
        for(let i=0; i<data.length;i++){
            table += `<tr>
                <th>${data[i].Id}</th>
                <th>${data[i].Name}</th>
                <th>${data[i].Age}</th>
                <th>${data[i].Tel}</th>
                <th>
                    <button class="btn btn-primary" onclick="editItem(${data[i].Id})">Edit</button>
                    <button class="btn btn-danger" onclick="deleteItem(${data[i].Id})">Delete</button>
                    </th>
            </tr>`
        }
        document.getElementById("table").innerHTML = table;
     }

     function clear() {
        document.getElementById("id").value ="";
        document.getElementById("name").value ="";
        document.getElementById("age").value ="";
        document.getElementById("tel").value ="";
     }

     function deleteItem(x){
        for(let i=0;i<data.length;i++) {
            if(data[i].Id==x){
                data.splice(i,1)
                show()
            }
        }
     }


     function editItem(x) {
        for(let i=0;i,data.length;i++) {
            if(data[i].Id==x){
                document.getElementById("id").value = data[i].Id;
                document.getElementById("name").value = data[i].Name;
                document.getElementById("age").value = data[i].Age;
                document.getElementById("tel").value = data[i].Tel;
            }
        }
     }

</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</html>